(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors~f9ca8911"],{"0ca4":function(e,t,r){"use strict";function n(e){setTimeout((function(){throw e}),0)}r.d(t,"a",(function(){return n}))},"127f":function(e,t,r){"use strict";function n(){return"function"===typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}r.d(t,"a",(function(){return i}));var i=n()},1453:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r("9ab4"),i=r("d817"),o=r("e9a8"),s=r("a6e8"),a=r("2ff5"),u=r("88bc"),c=r("0ca4"),l=function(e){function t(r,n,i){var s=e.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=o["a"];break;case 1:if(!r){s.destination=o["a"];break}if("object"===typeof r){r instanceof t?(s.syncErrorThrowable=r.syncErrorThrowable,s.destination=r,r.add(s)):(s.syncErrorThrowable=!0,s.destination=new f(s,r));break}default:s.syncErrorThrowable=!0,s.destination=new f(s,r,n,i);break}return s}return n["c"](t,e),t.prototype[a["a"]]=function(){return this},t.create=function(e,r,n){var i=new t(e,r,n);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(s["a"]),f=function(e){function t(t,r,n,s){var a,u=e.call(this)||this;u._parentSubscriber=t;var c=u;return Object(i["a"])(r)?a=r:r&&(a=r.next,n=r.error,s=r.complete,r!==o["a"]&&(c=Object.create(r),Object(i["a"])(c.unsubscribe)&&u.add(c.unsubscribe.bind(c)),c.unsubscribe=u.unsubscribe.bind(u))),u._context=c,u._next=a,u._error=n,u._complete=s,u}return n["c"](t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;u["a"].useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,r=u["a"].useDeprecatedSynchronousErrorHandling;if(this._error)r&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)r?(t.syncErrorValue=e,t.syncErrorThrown=!0):Object(c["a"])(e),this.unsubscribe();else{if(this.unsubscribe(),r)throw e;Object(c["a"])(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var r=function(){return e._complete.call(e._context)};u["a"].useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(r){if(this.unsubscribe(),u["a"].useDeprecatedSynchronousErrorHandling)throw r;Object(c["a"])(r)}},t.prototype.__tryOrSetError=function(e,t,r){if(!u["a"].useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,r)}catch(n){return u["a"].useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=n,e.syncErrorThrown=!0,!0):(Object(c["a"])(n),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(l)},1716:function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var n=r("fad2"),i=r("0ca4"),o=function(e){return function(t){return e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,i["a"]),t}},s=r("127f"),a=function(e){return function(t){var r=e[s["a"]]();do{var n=void 0;try{n=r.next()}catch(i){return t.error(i),t}if(n.done){t.complete();break}if(t.next(n.value),t.closed)break}while(1);return"function"===typeof r.return&&t.add((function(){r.return&&r.return()})),t}},u=r("c539"),c=function(e){return function(t){var r=e[u["a"]]();if("function"!==typeof r.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(t)}},l=r("d9e3"),f=r("fd66"),h=r("31c4"),p=function(e){if(e&&"function"===typeof e[u["a"]])return c(e);if(Object(l["a"])(e))return Object(n["a"])(e);if(Object(f["a"])(e))return o(e);if(e&&"function"===typeof e[s["a"]])return a(e);var t=Object(h["a"])(e)?"an invalid object":"'"+e+"'",r="You provided "+t+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(r)}},"2ff5":function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(){return"function"===typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}()},"31c4":function(e,t,r){"use strict";function n(e){return null!==e&&"object"===typeof e}r.d(t,"a",(function(){return n}))},"34ad":function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r("53ca"),i=(r("a434"),r("5cc6"),r("9a8c"),r("a975"),r("735e"),r("c1ac"),r("d139"),r("3a7b"),r("d5d6"),r("82f8"),r("e91f"),r("60bd"),r("5f96"),r("3280"),r("3fcc"),r("ca91"),r("25a1"),r("cd26"),r("3c5d"),r("2954"),r("649e"),r("219c"),r("170b"),r("b39a"),r("72f7"),r("d3b7"),r("b0c0"),r("3ca3"),r("ddb0"),r("c19f"),r("4de4"),r("fb6a"),r("38cf"),r("a15b"),r("5319"),r("ac1f"),r("d81d"),r("fd87"),r("8b09"),r("84c3"),r("fb2c"),r("cfc3"),r("b64b"),r("4ec9"),r("07ac"),r("2b3d"),r("159b"),r("5a89")),o=function(){function e(e){i["K"].call(this,e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register((function(e){return new a(e)})),this.register((function(e){return new c(e)})),this.register((function(e){return new l(e)})),this.register((function(e){return new u(e)})),this.register((function(e){return new o(e)})),this.register((function(e){return new f(e)}))}function t(){var e={};return{get:function(t){return e[t]},add:function(t,r){e[t]=r},remove:function(t){delete e[t]},removeAll:function(){e={}}}}e.prototype=Object.assign(Object.create(i["K"].prototype),{constructor:e,load:function(e,t,r,n){var o,s=this;o=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:i["L"].extractUrlBase(e),this.manager.itemStart(e);var a=function(t){n?n(t):console.error(t),s.manager.itemError(e),s.manager.itemEnd(e)},u=new i["t"](this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials),u.load(e,(function(r){try{s.parse(r,o,(function(r){t(r),s.manager.itemEnd(e)}),a)}catch(n){a(n)}}),r,a)},setDRACOLoader:function(e){return this.dracoLoader=e,this},setDDSLoader:function(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')},setKTX2Loader:function(e){return this.ktx2Loader=e,this},setMeshoptDecoder:function(e){return this.meshoptDecoder=e,this},register:function(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this},unregister:function(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this},parse:function(e,t,n,o){var a,u={},c={};if("string"===typeof e)a=e;else{var l=i["L"].decodeText(new Uint8Array(e,0,4));if(l===h){try{u[r.KHR_BINARY_GLTF]=new v(e)}catch(T){return void(o&&o(T))}a=u[r.KHR_BINARY_GLTF].content}else a=i["L"].decodeText(new Uint8Array(e))}var f=JSON.parse(a);if(void 0===f.asset||f.asset.version[0]<2)o&&o(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));else{var p=new k(f,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});p.fileLoader.setRequestHeader(this.requestHeader);for(var d=0;d<this.pluginCallbacks.length;d++){var b=this.pluginCallbacks[d](p);c[b.name]=b,u[b.name]=!0}if(f.extensionsUsed)for(d=0;d<f.extensionsUsed.length;++d){var x=f.extensionsUsed[d],_=f.extensionsRequired||[];switch(x){case r.KHR_MATERIALS_UNLIT:u[x]=new s;break;case r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:u[x]=new g;break;case r.KHR_DRACO_MESH_COMPRESSION:u[x]=new m(f,this.dracoLoader);break;case r.KHR_TEXTURE_TRANSFORM:u[x]=new y;break;case r.KHR_MESH_QUANTIZATION:u[x]=new w;break;default:_.indexOf(x)>=0&&void 0===c[x]&&console.warn('THREE.GLTFLoader: Unknown extension "'+x+'".')}}p.setExtensions(u),p.setPlugins(c),p.parse(n,o)}}});var r={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};function o(e){this.parser=e,this.name=r.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}function s(){this.name=r.KHR_MATERIALS_UNLIT}function a(e){this.parser=e,this.name=r.KHR_MATERIALS_CLEARCOAT}function u(e){this.parser=e,this.name=r.KHR_MATERIALS_TRANSMISSION}function c(e){this.parser=e,this.name=r.KHR_TEXTURE_BASISU}function l(e){this.parser=e,this.name=r.EXT_TEXTURE_WEBP,this.isSupported=null}function f(e){this.name=r.EXT_MESHOPT_COMPRESSION,this.parser=e}o.prototype._markDefs=function(){for(var e=this.parser,t=this.parser.json.nodes||[],r=0,n=t.length;r<n;r++){var i=t[r];i.extensions&&i.extensions[this.name]&&void 0!==i.extensions[this.name].light&&e._addNodeRef(this.cache,i.extensions[this.name].light)}},o.prototype._loadLight=function(e){var t=this.parser,r="light:"+e,n=t.cache.get(r);if(n)return n;var o,s=t.json,a=s.extensions&&s.extensions[this.name]||{},u=a.lights||[],c=u[e],l=new i["p"](16777215);void 0!==c.color&&l.fromArray(c.color);var f=void 0!==c.range?c.range:0;switch(c.type){case"directional":o=new i["q"](l),o.target.position.set(0,0,-1),o.add(o.target);break;case"point":o=new i["fb"](l),o.distance=f;break;case"spot":o=new i["vb"](l),o.distance=f,c.spot=c.spot||{},c.spot.innerConeAngle=void 0!==c.spot.innerConeAngle?c.spot.innerConeAngle:0,c.spot.outerConeAngle=void 0!==c.spot.outerConeAngle?c.spot.outerConeAngle:Math.PI/4,o.angle=c.spot.outerConeAngle,o.penumbra=1-c.spot.innerConeAngle/c.spot.outerConeAngle,o.target.position.set(0,0,-1),o.add(o.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+c.type)}return o.position.set(0,0,0),o.decay=2,void 0!==c.intensity&&(o.intensity=c.intensity),o.name=t.createUniqueName(c.name||"light_"+e),n=Promise.resolve(o),t.cache.add(r,n),n},o.prototype.createNodeAttachment=function(e){var t=this,r=this.parser,n=r.json,i=n.nodes[e],o=i.extensions&&i.extensions[this.name]||{},s=o.light;return void 0===s?null:this._loadLight(s).then((function(e){return r._getNodeRef(t.cache,s,e)}))},s.prototype.getMaterialType=function(){return i["S"]},s.prototype.extendParams=function(e,t,r){var n=[];e.color=new i["p"](1,1,1),e.opacity=1;var o=t.pbrMetallicRoughness;if(o){if(Array.isArray(o.baseColorFactor)){var s=o.baseColorFactor;e.color.fromArray(s),e.opacity=s[3]}void 0!==o.baseColorTexture&&n.push(r.assignTexture(e,"map",o.baseColorTexture))}return Promise.all(n)},a.prototype.getMaterialType=function(e){var t=this.parser,r=t.json.materials[e];return r.extensions&&r.extensions[this.name]?i["T"]:null},a.prototype.extendMaterialParams=function(e,t){var r=this.parser,n=r.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();var o=[],s=n.extensions[this.name];if(void 0!==s.clearcoatFactor&&(t.clearcoat=s.clearcoatFactor),void 0!==s.clearcoatTexture&&o.push(r.assignTexture(t,"clearcoatMap",s.clearcoatTexture)),void 0!==s.clearcoatRoughnessFactor&&(t.clearcoatRoughness=s.clearcoatRoughnessFactor),void 0!==s.clearcoatRoughnessTexture&&o.push(r.assignTexture(t,"clearcoatRoughnessMap",s.clearcoatRoughnessTexture)),void 0!==s.clearcoatNormalTexture&&(o.push(r.assignTexture(t,"clearcoatNormalMap",s.clearcoatNormalTexture)),void 0!==s.clearcoatNormalTexture.scale)){var a=s.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new i["Bb"](a,-a)}return Promise.all(o)},u.prototype.getMaterialType=function(e){var t=this.parser,r=t.json.materials[e];return r.extensions&&r.extensions[this.name]?i["T"]:null},u.prototype.extendMaterialParams=function(e,t){var r=this.parser,n=r.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();var i=[],o=n.extensions[this.name];return void 0!==o.transmissionFactor&&(t.transmission=o.transmissionFactor),void 0!==o.transmissionTexture&&i.push(r.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(i)},c.prototype.loadTexture=function(e){var t=this.parser,r=t.json,n=r.textures[e];if(!n.extensions||!n.extensions[this.name])return null;var i=n.extensions[this.name],o=r.images[i.source],s=t.options.ktx2Loader;if(!s){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,o,s)},l.prototype.loadTexture=function(e){var t=this.name,r=this.parser,n=r.json,i=n.textures[e];if(!i.extensions||!i.extensions[t])return null;var o=i.extensions[t],s=n.images[o.source],a=r.textureLoader;if(s.uri){var u=r.options.manager.getHandler(s.uri);null!==u&&(a=u)}return this.detectSupport().then((function(i){if(i)return r.loadTextureImage(e,s,a);if(n.extensionsRequired&&n.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)}))},l.prototype.detectSupport=function(){return this.isSupported||(this.isSupported=new Promise((function(e){var t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}}))),this.isSupported},f.prototype.loadBufferView=function(e){var t=this.parser.json,r=t.bufferViews[e];if(r.extensions&&r.extensions[this.name]){var n=r.extensions[this.name],i=this.parser.getDependency("buffer",n.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Promise.all([i,o.ready]).then((function(e){var t=n.byteOffset||0,r=n.byteLength||0,i=n.count,s=n.byteStride,a=new ArrayBuffer(i*s),u=new Uint8Array(e[0],t,r);return o.decodeGltfBuffer(new Uint8Array(a),i,s,u,n.mode,n.filter),a}))}return null};var h="glTF",p=12,d={JSON:1313821514,BIN:5130562};function v(e){this.name=r.KHR_BINARY_GLTF,this.content=null,this.body=null;var t=new DataView(e,0,p);if(this.header={magic:i["L"].decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==h)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");var n=this.header.length-p,o=new DataView(e,p),s=0;while(s<n){var a=o.getUint32(s,!0);s+=4;var u=o.getUint32(s,!0);if(s+=4,u===d.JSON){var c=new Uint8Array(e,p+s,a);this.content=i["L"].decodeText(c)}else if(u===d.BIN){var l=p+s;this.body=e.slice(l,l+a)}s+=a}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}function m(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=r.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}function y(){this.name=r.KHR_TEXTURE_TRANSFORM}function b(e){i["U"].call(this),this.isGLTFSpecularGlossinessMaterial=!0;var t=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),r=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),n=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),o=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),s=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.specularRoughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.specularRoughness += geometryRoughness;","material.specularRoughness = min( material.specularRoughness, 1.0 );","material.specularColor = specularFactor;"].join("\n"),a={specular:{value:(new i["p"]).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=a,this.onBeforeCompile=function(e){for(var i in a)e.uniforms[i]=a[i];e.fragmentShader=e.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",t).replace("#include <metalnessmap_pars_fragment>",r).replace("#include <roughnessmap_fragment>",n).replace("#include <metalnessmap_fragment>",o).replace("#include <lights_physical_fragment>",s)},Object.defineProperties(this,{specular:{get:function(){return a.specular.value},set:function(e){a.specular.value=e}},specularMap:{get:function(){return a.specularMap.value},set:function(e){a.specularMap.value=e,e?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return a.glossiness.value},set:function(e){a.glossiness.value=e}},glossinessMap:{get:function(){return a.glossinessMap.value},set:function(e){a.glossinessMap.value=e,e?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}function g(){return{name:r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,specularGlossinessParams:["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"],getMaterialType:function(){return b},extendParams:function(e,t,r){var n=t.extensions[this.name];e.color=new i["p"](1,1,1),e.opacity=1;var o=[];if(Array.isArray(n.diffuseFactor)){var s=n.diffuseFactor;e.color.fromArray(s),e.opacity=s[3]}if(void 0!==n.diffuseTexture&&o.push(r.assignTexture(e,"map",n.diffuseTexture)),e.emissive=new i["p"](0,0,0),e.glossiness=void 0!==n.glossinessFactor?n.glossinessFactor:1,e.specular=new i["p"](1,1,1),Array.isArray(n.specularFactor)&&e.specular.fromArray(n.specularFactor),void 0!==n.specularGlossinessTexture){var a=n.specularGlossinessTexture;o.push(r.assignTexture(e,"glossinessMap",a)),o.push(r.assignTexture(e,"specularMap",a))}return Promise.all(o)},createMaterial:function(e){var t=new b(e);return t.fog=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=1,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,t.normalMapType=i["xb"],e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t}}}function w(){this.name=r.KHR_MESH_QUANTIZATION}function x(e,t,r,n){i["A"].call(this,e,t,r,n)}m.prototype.decodePrimitive=function(e,t){var r=this.json,n=this.dracoLoader,i=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,s={},a={},u={};for(var c in o){var l=R[c]||c.toLowerCase();s[l]=o[c]}for(c in e.attributes){l=R[c]||c.toLowerCase();if(void 0!==o[c]){var f=r.accessors[e.attributes[c]],h=T[f.componentType];u[l]=h,a[l]=!0===f.normalized}}return t.getDependency("bufferView",i).then((function(e){return new Promise((function(t){n.decodeDracoFile(e,(function(e){for(var r in e.attributes){var n=e.attributes[r],i=a[r];void 0!==i&&(n.normalized=i)}t(e)}),s,u)}))}))},y.prototype.extendTexture=function(e,t){return e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),void 0!==t.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),e.needsUpdate=!0,e},b.prototype=Object.create(i["U"].prototype),b.prototype.constructor=b,b.prototype.copy=function(e){return i["U"].prototype.copy.call(this,e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this},x.prototype=Object.create(i["A"].prototype),x.prototype.constructor=x,x.prototype.copySampleValue_=function(e){for(var t=this.resultBuffer,r=this.sampleValues,n=this.valueSize,i=e*n*3+n,o=0;o!==n;o++)t[o]=r[i+o];return t},x.prototype.beforeStart_=x.prototype.copySampleValue_,x.prototype.afterEnd_=x.prototype.copySampleValue_,x.prototype.interpolate_=function(e,t,r,n){for(var i=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=2*s,u=3*s,c=n-t,l=(r-t)/c,f=l*l,h=f*l,p=e*u,d=p-u,v=-2*h+3*f,m=h-f,y=1-v,b=m-f+l,g=0;g!==s;g++){var w=o[d+g+s],x=o[d+g+a]*c,_=o[p+g+s],T=o[p+g]*c;i[g]=y*w+b*x+v*_+m*T}return i};var _={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},T={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},E={9728:i["W"],9729:i["H"],9984:i["Y"],9985:i["J"],9986:i["X"],9987:i["I"]},S={33071:i["o"],33648:i["V"],10497:i["mb"]},A={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},R={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},L={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},M={CUBICSPLINE:void 0,LINEAR:i["C"],STEP:i["B"]},O={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function I(e,t){return"string"!==typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}function N(e){return void 0===e["DefaultMaterial"]&&(e["DefaultMaterial"]=new i["U"]({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:i["u"]})),e["DefaultMaterial"]}function P(e,t,r){for(var n in r.extensions)void 0===e[n]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[n]=r.extensions[n])}function j(e,t){void 0!==t.extras&&("object"===Object(n["a"])(t.extras)?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function C(e,t,r){for(var n=!1,i=!1,o=0,s=t.length;o<s;o++){var a=t[o];if(void 0!==a.POSITION&&(n=!0),void 0!==a.NORMAL&&(i=!0),n&&i)break}if(!n&&!i)return Promise.resolve(e);var u=[],c=[];for(o=0,s=t.length;o<s;o++){a=t[o];if(n){var l=void 0!==a.POSITION?r.getDependency("accessor",a.POSITION):e.attributes.position;u.push(l)}if(i){l=void 0!==a.NORMAL?r.getDependency("accessor",a.NORMAL):e.attributes.normal;c.push(l)}}return Promise.all([Promise.all(u),Promise.all(c)]).then((function(t){var r=t[0],o=t[1];return n&&(e.morphAttributes.position=r),i&&(e.morphAttributes.normal=o),e.morphTargetsRelative=!0,e}))}function H(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(var r=0,n=t.weights.length;r<n;r++)e.morphTargetInfluences[r]=t.weights[r];if(t.extras&&Array.isArray(t.extras.targetNames)){var i=t.extras.targetNames;if(e.morphTargetInfluences.length===i.length){e.morphTargetDictionary={};for(r=0,n=i.length;r<n;r++)e.morphTargetDictionary[i[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function U(e){var t,n=e.extensions&&e.extensions[r.KHR_DRACO_MESH_COMPRESSION];return t=n?"draco:"+n.bufferView+":"+n.indices+":"+F(n.attributes):e.indices+":"+F(e.attributes)+":"+e.mode,t}function F(e){for(var t="",r=Object.keys(e).sort(),n=0,i=r.length;n<i;n++)t+=r[n]+":"+e[r[n]]+";";return t}function k(e,r){this.json=e||{},this.extensions={},this.plugins={},this.options=r||{},this.cache=new t,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.nodeNamesUsed={},"undefined"!==typeof createImageBitmap&&!1===/Firefox/.test(navigator.userAgent)?this.textureLoader=new i["w"](this.options.manager):this.textureLoader=new i["yb"](this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new i["t"](this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}function D(e,t,r){var n=t.attributes,o=new i["i"];if(void 0!==n.POSITION){var s=r.json.accessors[n.POSITION],a=s.min,u=s.max;if(void 0!==a&&void 0!==u){o.set(new i["Cb"](a[0],a[1],a[2]),new i["Cb"](u[0],u[1],u[2]));var c=t.targets;if(void 0!==c){for(var l=new i["Cb"],f=new i["Cb"],h=0,p=c.length;h<p;h++){var d=c[h];if(void 0!==d.POSITION){s=r.json.accessors[d.POSITION],a=s.min,u=s.max;void 0!==a&&void 0!==u?(f.setX(Math.max(Math.abs(a[0]),Math.abs(u[0]))),f.setY(Math.max(Math.abs(a[1]),Math.abs(u[1]))),f.setZ(Math.max(Math.abs(a[2]),Math.abs(u[2]))),l.max(f)):console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}o.expandByVector(l)}e.boundingBox=o;var v=new i["sb"];o.getCenter(v.center),v.radius=o.min.distanceTo(o.max)/2,e.boundingSphere=v}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}function G(e,t,r){var n=t.attributes,i=[];function o(t,n){return r.getDependency("accessor",t).then((function(t){e.setAttribute(n,t)}))}for(var s in n){var a=R[s]||s.toLowerCase();a in e.attributes||i.push(o(n[s],a))}if(void 0!==t.indices&&!e.index){var u=r.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));i.push(u)}return j(e,t),D(e,t,r),Promise.all(i).then((function(){return void 0!==t.targets?C(e,t.targets,r):e}))}function V(e,t){var r=e.getIndex();if(null===r){var n=[],o=e.getAttribute("position");if(void 0===o)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var s=0;s<o.count;s++)n.push(s);e.setIndex(n),r=e.getIndex()}var a=r.count-2,u=[];if(t===i["zb"])for(s=1;s<=a;s++)u.push(r.getX(0)),u.push(r.getX(s)),u.push(r.getX(s+1));else for(s=0;s<a;s++)s%2===0?(u.push(r.getX(s)),u.push(r.getX(s+1)),u.push(r.getX(s+2))):(u.push(r.getX(s+2)),u.push(r.getX(s+1)),u.push(r.getX(s)));u.length/3!==a&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var c=e.clone();return c.setIndex(u),c}return k.prototype.setExtensions=function(e){this.extensions=e},k.prototype.setPlugins=function(e){this.plugins=e},k.prototype.parse=function(e,t){var r=this,n=this.json,i=this.extensions;this.cache.removeAll(),this._invokeAll((function(e){return e._markDefs&&e._markDefs()})),Promise.all(this._invokeAll((function(e){return e.beforeRoot&&e.beforeRoot()}))).then((function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])})).then((function(t){var o={scene:t[0][n.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:n.asset,parser:r,userData:{}};P(i,o,n),j(o,n),Promise.all(r._invokeAll((function(e){return e.afterRoot&&e.afterRoot(o)}))).then((function(){e(o)}))})).catch(t)},k.prototype._markDefs=function(){for(var e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[],n=0,i=t.length;n<i;n++)for(var o=t[n].joints,s=0,a=o.length;s<a;s++)e[o[s]].isBone=!0;for(var u=0,c=e.length;u<c;u++){var l=e[u];void 0!==l.mesh&&(this._addNodeRef(this.meshCache,l.mesh),void 0!==l.skin&&(r[l.mesh].isSkinnedMesh=!0)),void 0!==l.camera&&this._addNodeRef(this.cameraCache,l.camera)}},k.prototype._addNodeRef=function(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)},k.prototype._getNodeRef=function(e,t,r){if(e.refs[t]<=1)return r;var n=r.clone();return n.name+="_instance_"+e.uses[t]++,n},k.prototype._invokeOne=function(e){var t=Object.values(this.plugins);t.push(this);for(var r=0;r<t.length;r++){var n=e(t[r]);if(n)return n}},k.prototype._invokeAll=function(e){var t=Object.values(this.plugins);t.unshift(this);for(var r=[],n=0;n<t.length;n++){var i=e(t[n]);i&&r.push(i)}return r},k.prototype.getDependency=function(e,t){var r=e+":"+t,n=this.cache.get(r);if(!n){switch(e){case"scene":n=this.loadScene(t);break;case"node":n=this.loadNode(t);break;case"mesh":n=this._invokeOne((function(e){return e.loadMesh&&e.loadMesh(t)}));break;case"accessor":n=this.loadAccessor(t);break;case"bufferView":n=this._invokeOne((function(e){return e.loadBufferView&&e.loadBufferView(t)}));break;case"buffer":n=this.loadBuffer(t);break;case"material":n=this._invokeOne((function(e){return e.loadMaterial&&e.loadMaterial(t)}));break;case"texture":n=this._invokeOne((function(e){return e.loadTexture&&e.loadTexture(t)}));break;case"skin":n=this.loadSkin(t);break;case"animation":n=this.loadAnimation(t);break;case"camera":n=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(r,n)}return n},k.prototype.getDependencies=function(e){var t=this.cache.get(e);if(!t){var r=this,n=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(n.map((function(t,n){return r.getDependency(e,n)}))),this.cache.add(e,t)}return t},k.prototype.loadBuffer=function(e){var t=this.json.buffers[e],n=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[r.KHR_BINARY_GLTF].body);var i=this.options;return new Promise((function(e,r){n.load(I(t.uri,i.path),e,void 0,(function(){r(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))},k.prototype.loadBufferView=function(e){var t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){var r=t.byteLength||0,n=t.byteOffset||0;return e.slice(n,n+r)}))},k.prototype.loadAccessor=function(e){var t=this,r=this.json,n=this.json.accessors[e];if(void 0===n.bufferView&&void 0===n.sparse)return Promise.resolve(null);var o=[];return void 0!==n.bufferView?o.push(this.getDependency("bufferView",n.bufferView)):o.push(null),void 0!==n.sparse&&(o.push(this.getDependency("bufferView",n.sparse.indices.bufferView)),o.push(this.getDependency("bufferView",n.sparse.values.bufferView))),Promise.all(o).then((function(e){var o,s,a=e[0],u=A[n.type],c=T[n.componentType],l=c.BYTES_PER_ELEMENT,f=l*u,h=n.byteOffset||0,p=void 0!==n.bufferView?r.bufferViews[n.bufferView].byteStride:void 0,d=!0===n.normalized;if(p&&p!==f){var v=Math.floor(h/p),m="InterleavedBuffer:"+n.bufferView+":"+n.componentType+":"+v+":"+n.count,y=t.cache.get(m);y||(o=new c(a,v*p,n.count*p/l),y=new i["y"](o,p/l),t.cache.add(m,y)),s=new i["z"](y,u,h%p/l,d)}else o=null===a?new c(n.count*u):new c(a,h,n.count*u),s=new i["k"](o,u,d);if(void 0!==n.sparse){var b=A.SCALAR,g=T[n.sparse.indices.componentType],w=n.sparse.indices.byteOffset||0,x=n.sparse.values.byteOffset||0,_=new g(e[1],w,n.sparse.count*b),E=new c(e[2],x,n.sparse.count*u);null!==a&&(s=new i["k"](s.array.slice(),s.itemSize,s.normalized));for(var S=0,R=_.length;S<R;S++){var L=_[S];if(s.setX(L,E[S*u]),u>=2&&s.setY(L,E[S*u+1]),u>=3&&s.setZ(L,E[S*u+2]),u>=4&&s.setW(L,E[S*u+3]),u>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return s}))},k.prototype.loadTexture=function(e){var t=this.json,r=this.options,n=t.textures[e],i=t.images[n.source],o=this.textureLoader;if(i.uri){var s=r.manager.getHandler(i.uri);null!==s&&(o=s)}return this.loadTextureImage(e,i,o)},k.prototype.loadTextureImage=function(e,t,r){var n=this,o=this.json,s=this.options,a=o.textures[e],u=self.URL||self.webkitURL,c=t.uri,l=!1,f=!0;if("image/jpeg"===t.mimeType&&(f=!1),void 0!==t.bufferView)c=n.getDependency("bufferView",t.bufferView).then((function(e){if("image/png"===t.mimeType){var r=new DataView(e,25,1).getUint8(0,!1);f=6===r||4===r||3===r}l=!0;var n=new Blob([e],{type:t.mimeType});return c=u.createObjectURL(n),c}));else if(void 0===t.uri)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");return Promise.resolve(c).then((function(e){return new Promise((function(t,n){var o=t;!0===r.isImageBitmapLoader&&(o=function(e){t(new i["n"](e))}),r.load(I(e,s.path),o,void 0,n)}))})).then((function(t){!0===l&&u.revokeObjectURL(c),t.flipY=!1,a.name&&(t.name=a.name),f||(t.format=i["lb"]);var r=o.samplers||{},s=r[a.sampler]||{};return t.magFilter=E[s.magFilter]||i["H"],t.minFilter=E[s.minFilter]||i["I"],t.wrapS=S[s.wrapS]||i["mb"],t.wrapT=S[s.wrapT]||i["mb"],n.associations.set(t,{type:"textures",index:e}),t}))},k.prototype.assignTexture=function(e,t,n){var i=this;return this.getDependency("texture",n.index).then((function(o){if(void 0===n.texCoord||0==n.texCoord||"aoMap"===t&&1==n.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+n.texCoord+" for texture "+t+" not yet supported."),i.extensions[r.KHR_TEXTURE_TRANSFORM]){var s=void 0!==n.extensions?n.extensions[r.KHR_TEXTURE_TRANSFORM]:void 0;if(s){var a=i.associations.get(o);o=i.extensions[r.KHR_TEXTURE_TRANSFORM].extendTexture(o,s),i.associations.set(o,a)}}e[t]=o}))},k.prototype.assignFinalMaterial=function(e){var t=e.geometry,r=e.material,n=void 0!==t.attributes.tangent,o=void 0!==t.attributes.color,s=void 0===t.attributes.normal,a=!0===e.isSkinnedMesh,u=Object.keys(t.morphAttributes).length>0,c=u&&void 0!==t.morphAttributes.normal;if(e.isPoints){var l="PointsMaterial:"+r.uuid,f=this.cache.get(l);f||(f=new i["hb"],i["O"].prototype.copy.call(f,r),f.color.copy(r.color),f.map=r.map,f.sizeAttenuation=!1,this.cache.add(l,f)),r=f}else if(e.isLine){l="LineBasicMaterial:"+r.uuid;var h=this.cache.get(l);h||(h=new i["E"],i["O"].prototype.copy.call(h,r),h.color.copy(r.color),this.cache.add(l,h)),r=h}if(n||o||s||a||u){l="ClonedMaterial:"+r.uuid+":";r.isGLTFSpecularGlossinessMaterial&&(l+="specular-glossiness:"),a&&(l+="skinning:"),n&&(l+="vertex-tangents:"),o&&(l+="vertex-colors:"),s&&(l+="flat-shading:"),u&&(l+="morph-targets:"),c&&(l+="morph-normals:");var p=this.cache.get(l);p||(p=r.clone(),a&&(p.skinning=!0),o&&(p.vertexColors=!0),s&&(p.flatShading=!0),u&&(p.morphTargets=!0),c&&(p.morphNormals=!0),n&&(p.vertexTangents=!0,p.normalScale&&(p.normalScale.y*=-1),p.clearcoatNormalScale&&(p.clearcoatNormalScale.y*=-1)),this.cache.add(l,p),this.associations.set(p,this.associations.get(r))),r=p}r.aoMap&&void 0===t.attributes.uv2&&void 0!==t.attributes.uv&&t.setAttribute("uv2",t.attributes.uv),e.material=r},k.prototype.getMaterialType=function(){return i["U"]},k.prototype.loadMaterial=function(e){var t,n=this,o=this.json,s=this.extensions,a=o.materials[e],u={},c=a.extensions||{},l=[];if(c[r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var f=s[r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];t=f.getMaterialType(),l.push(f.extendParams(u,a,n))}else if(c[r.KHR_MATERIALS_UNLIT]){var h=s[r.KHR_MATERIALS_UNLIT];t=h.getMaterialType(),l.push(h.extendParams(u,a,n))}else{var p=a.pbrMetallicRoughness||{};if(u.color=new i["p"](1,1,1),u.opacity=1,Array.isArray(p.baseColorFactor)){var d=p.baseColorFactor;u.color.fromArray(d),u.opacity=d[3]}void 0!==p.baseColorTexture&&l.push(n.assignTexture(u,"map",p.baseColorTexture)),u.metalness=void 0!==p.metallicFactor?p.metallicFactor:1,u.roughness=void 0!==p.roughnessFactor?p.roughnessFactor:1,void 0!==p.metallicRoughnessTexture&&(l.push(n.assignTexture(u,"metalnessMap",p.metallicRoughnessTexture)),l.push(n.assignTexture(u,"roughnessMap",p.metallicRoughnessTexture))),t=this._invokeOne((function(t){return t.getMaterialType&&t.getMaterialType(e)})),l.push(Promise.all(this._invokeAll((function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,u)}))))}!0===a.doubleSided&&(u.side=i["r"]);var v=a.alphaMode||O.OPAQUE;return v===O.BLEND?(u.transparent=!0,u.depthWrite=!1):(u.transparent=!1,v===O.MASK&&(u.alphaTest=void 0!==a.alphaCutoff?a.alphaCutoff:.5)),void 0!==a.normalTexture&&t!==i["S"]&&(l.push(n.assignTexture(u,"normalMap",a.normalTexture)),u.normalScale=new i["Bb"](1,-1),void 0!==a.normalTexture.scale&&u.normalScale.set(a.normalTexture.scale,-a.normalTexture.scale)),void 0!==a.occlusionTexture&&t!==i["S"]&&(l.push(n.assignTexture(u,"aoMap",a.occlusionTexture)),void 0!==a.occlusionTexture.strength&&(u.aoMapIntensity=a.occlusionTexture.strength)),void 0!==a.emissiveFactor&&t!==i["S"]&&(u.emissive=(new i["p"]).fromArray(a.emissiveFactor)),void 0!==a.emissiveTexture&&t!==i["S"]&&l.push(n.assignTexture(u,"emissiveMap",a.emissiveTexture)),Promise.all(l).then((function(){var o;return o=t===b?s[r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(u):new t(u),a.name&&(o.name=a.name),o.map&&(o.map.encoding=i["Hb"]),o.emissiveMap&&(o.emissiveMap.encoding=i["Hb"]),j(o,a),n.associations.set(o,{type:"materials",index:e}),a.extensions&&P(s,o,a),o}))},k.prototype.createUniqueName=function(e){for(var t=i["ib"].sanitizeNodeName(e||""),r=t,n=1;this.nodeNamesUsed[r];++n)r=t+"_"+n;return this.nodeNamesUsed[r]=!0,r},k.prototype.loadGeometries=function(e){var t=this,n=this.extensions,o=this.primitiveCache;function s(e){return n[r.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(r){return G(r,e,t)}))}for(var a=[],u=0,c=e.length;u<c;u++){var l,f=e[u],h=U(f),p=o[h];if(p)a.push(p.promise);else l=f.extensions&&f.extensions[r.KHR_DRACO_MESH_COMPRESSION]?s(f):G(new i["l"],f,t),o[h]={primitive:f,promise:l},a.push(l)}return Promise.all(a)},k.prototype.loadMesh=function(e){for(var t=this,r=this.json,n=this.extensions,o=r.meshes[e],s=o.primitives,a=[],u=0,c=s.length;u<c;u++){var l=void 0===s[u].material?N(this.cache):this.getDependency("material",s[u].material);a.push(l)}return a.push(t.loadGeometries(s)),Promise.all(a).then((function(r){for(var a=r.slice(0,r.length-1),u=r[r.length-1],c=[],l=0,f=u.length;l<f;l++){var h,p=u[l],d=s[l],v=a[l];if(d.mode===_.TRIANGLES||d.mode===_.TRIANGLE_STRIP||d.mode===_.TRIANGLE_FAN||void 0===d.mode)h=!0===o.isSkinnedMesh?new i["rb"](p,v):new i["R"](p,v),!0!==h.isSkinnedMesh||h.geometry.attributes.skinWeight.normalized||h.normalizeSkinWeights(),d.mode===_.TRIANGLE_STRIP?h.geometry=V(h.geometry,i["Ab"]):d.mode===_.TRIANGLE_FAN&&(h.geometry=V(h.geometry,i["zb"]));else if(d.mode===_.LINES)h=new i["G"](p,v);else if(d.mode===_.LINE_STRIP)h=new i["D"](p,v);else if(d.mode===_.LINE_LOOP)h=new i["F"](p,v);else{if(d.mode!==_.POINTS)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+d.mode);h=new i["gb"](p,v)}Object.keys(h.geometry.morphAttributes).length>0&&H(h,o),h.name=t.createUniqueName(o.name||"mesh_"+e),j(h,o),d.extensions&&P(n,h,d),t.assignFinalMaterial(h),c.push(h)}if(1===c.length)return c[0];var m=new i["v"];for(l=0,f=c.length;l<f;l++)m.add(c[l]);return m}))},k.prototype.loadCamera=function(e){var t,r=this.json.cameras[e],n=r[r.type];if(n)return"perspective"===r.type?t=new i["db"](i["P"].radToDeg(n.yfov),n.aspectRatio||1,n.znear||1,n.zfar||2e6):"orthographic"===r.type&&(t=new i["bb"](-n.xmag,n.xmag,n.ymag,-n.ymag,n.znear,n.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),j(t,r),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")},k.prototype.loadSkin=function(e){var t=this.json.skins[e],r={joints:t.joints};return void 0===t.inverseBindMatrices?Promise.resolve(r):this.getDependency("accessor",t.inverseBindMatrices).then((function(e){return r.inverseBindMatrices=e,r}))},k.prototype.loadAnimation=function(e){for(var t=this.json,r=t.animations[e],n=[],o=[],s=[],a=[],u=[],c=0,l=r.channels.length;c<l;c++){var f=r.channels[c],h=r.samplers[f.sampler],p=f.target,d=void 0!==p.node?p.node:p.id,v=void 0!==r.parameters?r.parameters[h.input]:h.input,m=void 0!==r.parameters?r.parameters[h.output]:h.output;n.push(this.getDependency("node",d)),o.push(this.getDependency("accessor",v)),s.push(this.getDependency("accessor",m)),a.push(h),u.push(p)}return Promise.all([Promise.all(n),Promise.all(o),Promise.all(s),Promise.all(a),Promise.all(u)]).then((function(t){for(var n=t[0],o=t[1],s=t[2],a=t[3],u=t[4],c=[],l=0,f=n.length;l<f;l++){var h=n[l],p=o[l],d=s[l],v=a[l],m=u[l];if(void 0!==h){var y;switch(h.updateMatrix(),h.matrixAutoUpdate=!0,L[m.path]){case L.weights:y=i["Z"];break;case L.rotation:y=i["kb"];break;case L.position:case L.scale:default:y=i["Eb"];break}var b=h.name?h.name:h.uuid,g=void 0!==v.interpolation?M[v.interpolation]:i["C"],w=[];L[m.path]===L.weights?h.traverse((function(e){!0===e.isMesh&&e.morphTargetInfluences&&w.push(e.name?e.name:e.uuid)})):w.push(b);var _=d.array;if(d.normalized){var T;if(_.constructor===Int8Array)T=1/127;else if(_.constructor===Uint8Array)T=1/255;else if(_.constructor==Int16Array)T=1/32767;else{if(_.constructor!==Uint16Array)throw new Error("THREE.GLTFLoader: Unsupported output accessor component type.");T=1/65535}for(var E=new Float32Array(_.length),S=0,A=_.length;S<A;S++)E[S]=_[S]*T;_=E}for(S=0,A=w.length;S<A;S++){var R=new y(w[S]+"."+L[m.path],p.array,_,g);"CUBICSPLINE"===v.interpolation&&(R.createInterpolant=function(e){return new x(this.times,this.values,this.getValueSize()/3,e)},R.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),c.push(R)}}}var O=r.name?r.name:"animation_"+e;return new i["c"](O,void 0,c)}))},k.prototype.loadNode=function(e){var t=this.json,r=this.extensions,n=this,o=t.nodes[e],s=o.name?n.createUniqueName(o.name):"";return function(){var t=[];return void 0!==o.mesh&&t.push(n.getDependency("mesh",o.mesh).then((function(e){var t=n._getNodeRef(n.meshCache,o.mesh,e);return void 0!==o.weights&&t.traverse((function(e){if(e.isMesh)for(var t=0,r=o.weights.length;t<r;t++)e.morphTargetInfluences[t]=o.weights[t]})),t}))),void 0!==o.camera&&t.push(n.getDependency("camera",o.camera).then((function(e){return n._getNodeRef(n.cameraCache,o.camera,e)}))),n._invokeAll((function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)})).forEach((function(e){t.push(e)})),Promise.all(t)}().then((function(t){var a;if(a=!0===o.isBone?new i["h"]:t.length>1?new i["v"]:1===t.length?t[0]:new i["ab"],a!==t[0])for(var u=0,c=t.length;u<c;u++)a.add(t[u]);if(o.name&&(a.userData.name=o.name,a.name=s),j(a,o),o.extensions&&P(r,a,o),void 0!==o.matrix){var l=new i["Q"];l.fromArray(o.matrix),a.applyMatrix4(l)}else void 0!==o.translation&&a.position.fromArray(o.translation),void 0!==o.rotation&&a.quaternion.fromArray(o.rotation),void 0!==o.scale&&a.scale.fromArray(o.scale);return n.associations.set(a,{type:"nodes",index:e}),a}))},k.prototype.loadScene=function(){function e(t,r,n,o){var s=n.nodes[t];return o.getDependency("node",t).then((function(e){return void 0===s.skin?e:o.getDependency("skin",s.skin).then((function(e){t=e;for(var r=[],n=0,i=t.joints.length;n<i;n++)r.push(o.getDependency("node",t.joints[n]));return Promise.all(r)})).then((function(r){return e.traverse((function(e){if(e.isMesh){for(var n=[],o=[],s=0,a=r.length;s<a;s++){var u=r[s];if(u){n.push(u);var c=new i["Q"];void 0!==t.inverseBindMatrices&&c.fromArray(t.inverseBindMatrices.array,16*s),o.push(c)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[s])}e.bind(new i["qb"](n,o),e.matrixWorld)}})),e}));var t})).then((function(t){r.add(t);var i=[];if(s.children)for(var a=s.children,u=0,c=a.length;u<c;u++){var l=a[u];i.push(e(l,t,n,o))}return Promise.all(i)}))}return function(t){var r=this.json,n=this.extensions,o=this.json.scenes[t],s=this,a=new i["v"];o.name&&(a.name=s.createUniqueName(o.name)),j(a,o),o.extensions&&P(n,a,o);for(var u=o.nodes||[],c=[],l=0,f=u.length;l<f;l++)c.push(e(u[l],a,r,s));return Promise.all(c).then((function(){return a}))}}(),e}()},5670:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r("9ab4"),i=r("1453");function o(e,t){return function(r){return r.lift(new s(e,t))}}var s=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.thisArg))},e}(),a=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.predicate=r,i.thisArg=n,i.count=0,i}return n["c"](t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}t&&this.destination.next(e)},t}(i["a"])},"6d6a":function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r("9ab4"),i=r("cf86");function o(e){return function(t){return t.lift(new s(e))}}var s=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.durationSelector))},e}(),a=function(e){function t(t,r){var n=e.call(this,t)||this;return n.durationSelector=r,n.hasValue=!1,n}return n["c"](t,e),t.prototype._next=function(e){try{var t=this.durationSelector.call(this,e);t&&this._tryNext(e,t)}catch(r){this.destination.error(r)}},t.prototype._complete=function(){this.emitValue(),this.destination.complete()},t.prototype._tryNext=function(e,t){var r=this.durationSubscription;this.value=e,this.hasValue=!0,r&&(r.unsubscribe(),this.remove(r)),r=Object(i["c"])(t,new i["a"](this)),r&&!r.closed&&this.add(this.durationSubscription=r)},t.prototype.notifyNext=function(){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){if(this.hasValue){var t=this.value,r=this.durationSubscription;r&&(this.durationSubscription=void 0,r.unsubscribe(),this.remove(r)),this.value=void 0,this.hasValue=!1,e.prototype._next.call(this,t)}},t}(i["b"])},"6e77":function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r("e9b9"),i=r("8ac6"),o=r("d817"),s=r("ebb6");function a(e,t,r,c){return Object(o["a"])(r)&&(c=r,r=void 0),c?a(e,t,r).pipe(Object(s["a"])((function(e){return Object(i["a"])(e)?c.apply(void 0,e):c(e)}))):new n["a"]((function(n){function i(e){arguments.length>1?n.next(Array.prototype.slice.call(arguments)):n.next(e)}u(e,t,i,n,r)}))}function u(e,t,r,n,i){var o;if(f(e)){var s=e;e.addEventListener(t,r,i),o=function(){return s.removeEventListener(t,r,i)}}else if(l(e)){var a=e;e.on(t,r),o=function(){return a.off(t,r)}}else if(c(e)){var h=e;e.addListener(t,r),o=function(){return h.removeListener(t,r)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var p=0,d=e.length;p<d;p++)u(e[p],t,r,n,i)}n.add(o)}function c(e){return e&&"function"===typeof e.addListener&&"function"===typeof e.removeListener}function l(e){return e&&"function"===typeof e.on&&"function"===typeof e.off}function f(e){return e&&"function"===typeof e.addEventListener&&"function"===typeof e.removeEventListener}},"88bc":function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;t.stack}n=e},get useDeprecatedSynchronousErrorHandling(){return n}}},"8ac6":function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(){return Array.isArray||function(e){return e&&"number"===typeof e.length}}()},"96cf":function(e,t,r){var n=function(e){"use strict";var t,r=Object.prototype,n=r.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(N){u=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var i=t&&t.prototype instanceof m?t:m,o=Object.create(i.prototype),s=new M(n||[]);return o._invoke=S(e,r,s),o}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(N){return{type:"throw",arg:N}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",p="executing",d="completed",v={};function m(){}function y(){}function b(){}var g={};g[o]=function(){return this};var w=Object.getPrototypeOf,x=w&&w(w(O([])));x&&x!==r&&n.call(x,o)&&(g=x);var _=b.prototype=m.prototype=Object.create(g);function T(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function r(i,o,s,a){var u=l(e[i],e,o);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,a)}),(function(e){r("throw",e,s,a)})):t.resolve(f).then((function(e){c.value=e,s(c)}),(function(e){return r("throw",e,s,a)}))}a(u.arg)}var i;function o(e,n){function o(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(o,o):o()}this._invoke=o}function S(e,t,r){var n=f;return function(i,o){if(n===p)throw new Error("Generator is already running");if(n===d){if("throw"===i)throw o;return I()}r.method=i,r.arg=o;while(1){var s=r.delegate;if(s){var a=A(s,r);if(a){if(a===v)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===f)throw n=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=p;var u=l(e,t,r);if("normal"===u.type){if(n=r.done?d:h,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=d,r.method="throw",r.arg=u.arg)}}}function A(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator["return"]&&(r.method="return",r.arg=t,A(e,r),"throw"===r.method))return v;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(n,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var o=i.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function O(e){if(e){var r=e[o];if(r)return r.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,s=function r(){while(++i<e.length)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return s.next=s}}return{next:I}}function I(){return{value:t,done:!0}}return y.prototype=_.constructor=b,b.constructor=y,y.displayName=u(b,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,a,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},T(E.prototype),E.prototype[s]=function(){return this},e.AsyncIterator=E,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var s=new E(c(t,r,n,i),o);return e.isGeneratorFunction(r)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},T(_),u(_,a,"Generator"),_[o]=function(){return this},_.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){while(t.length){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=O,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(L),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return a.type="throw",a.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var u=n.call(s,"catchLoc"),c=n.call(s,"finallyLoc");if(u&&c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),L(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;L(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:O(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=n}catch(i){Function("r","regeneratorRuntime = r")(n)}},9828:function(e,t,r){"use strict";function n(e){return e}r.d(t,"a",(function(){return n}))},"9ab4":function(e,t,r){"use strict";r.d(t,"c",(function(){return i})),r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return s}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},n(e,t)};function i(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function o(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}function s(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,o){function s(e){try{u(n.next(e))}catch(t){o(t)}}function a(e){try{u(n["throw"](e))}catch(t){o(t)}}function u(e){e.done?r(e.value):i(e.value).then(s,a)}u((n=n.apply(e,t||[])).next())}))}},a6e8:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r("8ac6"),i=r("31c4"),o=r("d817"),s=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),a=s,u=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return e.prototype.unsubscribe=function(){var t;if(!this.closed){var r=this,s=r._parentOrParents,u=r._ctorUnsubscribe,l=r._unsubscribe,f=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,s instanceof e)s.remove(this);else if(null!==s)for(var h=0;h<s.length;++h){var p=s[h];p.remove(this)}if(Object(o["a"])(l)){u&&(this._unsubscribe=void 0);try{l.call(this)}catch(m){t=m instanceof a?c(m.errors):[m]}}if(Object(n["a"])(f)){h=-1;var d=f.length;while(++h<d){var v=f[h];if(Object(i["a"])(v))try{v.unsubscribe()}catch(m){t=t||[],m instanceof a?t=t.concat(c(m.errors)):t.push(m)}}}if(t)throw new a(t)}},e.prototype.add=function(t){var r=t;if(!t)return e.EMPTY;switch(typeof t){case"function":r=new e(t);case"object":if(r===this||r.closed||"function"!==typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof e)){var n=r;r=new e,r._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=r._parentOrParents;if(null===i)r._parentOrParents=this;else if(i instanceof e){if(i===this)return r;r._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return r;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[r]:o.push(r),r},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var r=t.indexOf(e);-1!==r&&t.splice(r,1)}},e.EMPTY=function(e){return e.closed=!0,e}(new e),e}();function c(e){return e.reduce((function(e,t){return e.concat(t instanceof a?t.errors:t)}),[])}},a748:function(e,t,r){"use strict";r.d(t,"a",(function(){return M}));var n=r("e9b9");function i(e){return e&&"function"===typeof e.schedule}var o=r("9ab4"),s=r("ebb6"),a=r("1716"),u=r("a6e8"),c=r("c539");function l(e,t){return new n["a"]((function(r){var n=new u["a"];return n.add(t.schedule((function(){var i=e[c["a"]]();n.add(i.subscribe({next:function(e){n.add(t.schedule((function(){return r.next(e)})))},error:function(e){n.add(t.schedule((function(){return r.error(e)})))},complete:function(){n.add(t.schedule((function(){return r.complete()})))}}))}))),n}))}function f(e,t){return new n["a"]((function(r){var n=new u["a"];return n.add(t.schedule((function(){return e.then((function(e){n.add(t.schedule((function(){r.next(e),n.add(t.schedule((function(){return r.complete()})))})))}),(function(e){n.add(t.schedule((function(){return r.error(e)})))}))}))),n}))}function h(e,t){return new n["a"]((function(r){var n=new u["a"],i=0;return n.add(t.schedule((function(){i!==e.length?(r.next(e[i++]),r.closed||n.add(this.schedule())):r.complete()}))),n}))}var p=r("127f");function d(e,t){if(!e)throw new Error("Iterable cannot be null");return new n["a"]((function(r){var n,i=new u["a"];return i.add((function(){n&&"function"===typeof n.return&&n.return()})),i.add(t.schedule((function(){n=e[p["a"]](),i.add(t.schedule((function(){if(!r.closed){var e,t;try{var i=n.next();e=i.value,t=i.done}catch(o){return void r.error(o)}t?r.complete():(r.next(e),this.schedule())}})))}))),i}))}function v(e){return e&&"function"===typeof e[c["a"]]}var m=r("fd66"),y=r("d9e3");function b(e){return e&&"function"===typeof e[p["a"]]}function g(e,t){if(null!=e){if(v(e))return l(e,t);if(Object(m["a"])(e))return f(e,t);if(Object(y["a"])(e))return h(e,t);if(b(e)||"string"===typeof e)return d(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}function w(e,t){return t?g(e,t):e instanceof n["a"]?e:new n["a"](Object(a["a"])(e))}var x=r("cf86");function _(e,t,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"function"===typeof t?function(n){return n.pipe(_((function(r,n){return w(e(r,n)).pipe(Object(s["a"])((function(e,i){return t(r,e,n,i)})))}),r))}:("number"===typeof t&&(r=t),function(t){return t.lift(new T(e,r))})}var T=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new E(e,this.project,this.concurrent))},e}(),E=function(e){function t(t,r,n){void 0===n&&(n=Number.POSITIVE_INFINITY);var i=e.call(this,t)||this;return i.project=r,i.concurrent=n,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return o["c"](t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,r=this.index++;try{t=this.project(e,r)}catch(n){return void this.destination.error(n)}this.active++,this._innerSub(t)},t.prototype._innerSub=function(e){var t=new x["a"](this),r=this.destination;r.add(t);var n=Object(x["c"])(e,t);n!==t&&r.add(n)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(x["b"]),S=r("9828");function A(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),_(S["a"],e)}var R=r("fad2");function L(e,t){return t?h(e,t):new n["a"](Object(R["a"])(e))}function M(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Number.POSITIVE_INFINITY,o=null,s=e[e.length-1];return i(s)?(o=e.pop(),e.length>1&&"number"===typeof e[e.length-1]&&(r=e.pop())):"number"===typeof s&&(r=e.pop()),null===o&&1===e.length&&e[0]instanceof n["a"]?e[0]:A(r)(L(e,o))}},c539:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(){return"function"===typeof Symbol&&Symbol.observable||"@@observable"}()},c575:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n=r("e9b9"),i=r("9ab4"),o=r("a6e8"),s=function(e){function t(t,r){return e.call(this)||this}return i["c"](t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(o["a"]),a=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n.pending=!1,n}return i["c"](t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var r=this.id,n=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(n,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(n,this.id,t),this},t.prototype.requestAsyncId=function(e,t,r){return void 0===r&&(r=0),setInterval(e.flush.bind(e,this),r)},t.prototype.recycleAsyncId=function(e,t,r){if(void 0===r&&(r=0),null!==r&&this.delay===r&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var r=!1,n=void 0;try{this.work(e)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,r=t.actions,n=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&r.splice(n,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(s),u=function(){function e(t,r){void 0===r&&(r=e.now),this.SchedulerAction=t,this.now=r}return e.prototype.schedule=function(e,t,r){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(r,t)},e.now=function(){return Date.now()},e}(),c=function(e){function t(r,n){void 0===n&&(n=u.now);var i=e.call(this,r,(function(){return t.delegate&&t.delegate!==i?t.delegate.now():n()}))||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return i["c"](t,e),t.prototype.schedule=function(r,n,i){return void 0===n&&(n=0),t.delegate&&t.delegate!==this?t.delegate.schedule(r,n,i):e.prototype.schedule.call(this,r,n,i)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var r;this.active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,r){while(e=t.shift())e.unsubscribe();throw r}}},t}(u),l=new c(a),f=l,h=r("8ac6");function p(e){return!Object(h["a"])(e)&&e-parseFloat(e)+1>=0}function d(e,t){return void 0===e&&(e=0),void 0===t&&(t=f),(!p(e)||e<0)&&(e=0),t&&"function"===typeof t.schedule||(t=f),new n["a"]((function(r){return r.add(t.schedule(v,e,{subscriber:r,counter:0,period:e})),r}))}function v(e){var t=e.subscriber,r=e.counter,n=e.period;t.next(r),this.schedule({subscriber:t,counter:r+1,period:n},n)}},cf86:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return c}));var n=r("9ab4"),i=r("1453"),o=r("e9b9"),s=r("1716"),a=function(e){function t(t){var r=e.call(this)||this;return r.parent=t,r}return n["c"](t,e),t.prototype._next=function(e){this.parent.notifyNext(e)},t.prototype._error=function(e){this.parent.notifyError(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},t}(i["a"]),u=(i["a"],function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n["c"](t,e),t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.destination.complete()},t}(i["a"]));i["a"];function c(e,t){if(!t.closed){if(e instanceof o["a"])return e.subscribe(t);var r;try{r=Object(s["a"])(e)(t)}catch(n){t.error(n)}return r}}},d817:function(e,t,r){"use strict";function n(e){return"function"===typeof e}r.d(t,"a",(function(){return n}))},d9e3:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(e){return e&&"number"===typeof e.length&&"function"!==typeof e}},df7c:function(e,t,r){(function(e){function r(e,t){for(var r=0,n=e.length-1;n>=0;n--){var i=e[n];"."===i?e.splice(n,1):".."===i?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}function n(e){"string"!==typeof e&&(e+="");var t,r=0,n=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){r=t+1;break}}else-1===n&&(i=!1,n=t+1);return-1===n?"":e.slice(r,n)}function i(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}t.resolve=function(){for(var t="",n=!1,o=arguments.length-1;o>=-1&&!n;o--){var s=o>=0?arguments[o]:e.cwd();if("string"!==typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(t=s+"/"+t,n="/"===s.charAt(0))}return t=r(i(t.split("/"),(function(e){return!!e})),!n).join("/"),(n?"/":"")+t||"."},t.normalize=function(e){var n=t.isAbsolute(e),s="/"===o(e,-1);return e=r(i(e.split("/"),(function(e){return!!e})),!n).join("/"),e||n||(e="."),e&&s&&(e+="/"),(n?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,r){function n(e){for(var t=0;t<e.length;t++)if(""!==e[t])break;for(var r=e.length-1;r>=0;r--)if(""!==e[r])break;return t>r?[]:e.slice(t,r-t+1)}e=t.resolve(e).substr(1),r=t.resolve(r).substr(1);for(var i=n(e.split("/")),o=n(r.split("/")),s=Math.min(i.length,o.length),a=s,u=0;u<s;u++)if(i[u]!==o[u]){a=u;break}var c=[];for(u=a;u<i.length;u++)c.push("..");return c=c.concat(o.slice(a)),c.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),r=47===t,n=-1,i=!0,o=e.length-1;o>=1;--o)if(t=e.charCodeAt(o),47===t){if(!i){n=o;break}}else i=!1;return-1===n?r?"/":".":r&&1===n?"/":e.slice(0,n)},t.basename=function(e,t){var r=n(e);return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,r=0,n=-1,i=!0,o=0,s=e.length-1;s>=0;--s){var a=e.charCodeAt(s);if(47!==a)-1===n&&(i=!1,n=s+1),46===a?-1===t?t=s:1!==o&&(o=1):-1!==t&&(o=-1);else if(!i){r=s+1;break}}return-1===t||-1===n||0===o||1===o&&t===n-1&&t===r+1?"":e.slice(t,n)};var o="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return t<0&&(t=e.length+t),e.substr(t,r)}}).call(this,r("4362"))},e9a8:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r("88bc"),i=r("0ca4"),o={closed:!0,next:function(e){},error:function(e){if(n["a"].useDeprecatedSynchronousErrorHandling)throw e;Object(i["a"])(e)},complete:function(){}}},e9b9:function(e,t,r){"use strict";r.d(t,"a",(function(){return h}));var n=r("1453");function i(e){while(e){var t=e,r=t.closed,i=t.destination,o=t.isStopped;if(r||o)return!1;e=i&&i instanceof n["a"]?i:null}return!0}var o=r("2ff5"),s=r("e9a8");function a(e,t,r){if(e){if(e instanceof n["a"])return e;if(e[o["a"]])return e[o["a"]]()}return e||t||r?new n["a"](e,t,r):new n["a"](s["a"])}var u=r("c539"),c=r("9828");function l(e){return 0===e.length?c["a"]:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var f=r("88bc"),h=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var n=this.operator,i=a(e,t,r);if(n?i.add(n.call(i,this.source)):i.add(this.source||f["a"].useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),f["a"].useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){f["a"].useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),i(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var r=this;return t=p(t),new t((function(t,n){var i;i=r.subscribe((function(t){try{e(t)}catch(r){n(r),i&&i.unsubscribe()}}),n,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[u["a"]]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:l(e)(this)},e.prototype.toPromise=function(e){var t=this;return e=p(e),new e((function(e,r){var n;t.subscribe((function(e){return n=e}),(function(e){return r(e)}),(function(){return e(n)}))}))},e.create=function(t){return new e(t)},e}();function p(e){if(e||(e=f["a"].Promise||Promise),!e)throw new Error("no Promise impl found");return e}},ebb6:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r("9ab4"),i=r("1453");function o(e,t){return function(r){if("function"!==typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new s(e,t))}}var s=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.project,this.thisArg))},e}(),a=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.project=r,i.count=0,i.thisArg=n||i,i}return n["c"](t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}this.destination.next(t)},t}(i["a"])},fad2:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(e){return function(t){for(var r=0,n=e.length;r<n&&!t.closed;r++)t.next(e[r]);t.complete()}}},fd66:function(e,t,r){"use strict";function n(e){return!!e&&"function"!==typeof e.subscribe&&"function"===typeof e.then}r.d(t,"a",(function(){return n}))}}]);
//# sourceMappingURL=chunk-vendors~f9ca8911.7b532ac5.js.map